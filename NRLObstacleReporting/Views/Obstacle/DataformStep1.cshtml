@model NRLObstacleReporting.Models.ObstacleStep1Model
<!-- Progressbar -->
<div class="relative w-full flex justify-center -mt-8 pt-0 pb-0">
    <div class="relative w-[90%] max-w-3xl mx-auto flex flex-col items-center">

        <!-- Full bakgrunnslinje (grå) -->
        <div class="absolute top-[35%] left-[15%] h-[3px] rounded-full z-0 bg-gray-300" style="width: 70%;"></div>

        <!-- Aktiv del (gradient frem til step 2) -->
        <div class="absolute top-[35%] left-[15%] h-[3px] rounded-full z-0"
             style="width: 37%; background: linear-gradient(to right, #2563eb 0%, #60a5fa 80%, rgba(96,165,250,0.1) 100%);">
        </div>

        <!-- Stegene -->
        <div class="relative flex justify-between items-center w-full z-10">

            <!-- Step 1 (aktiv) -->
            <div class="flex flex-col items-center w-1/3 text-center">
                <div class="relative flex items-center justify-center">
                    <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-600 text-white flex items-center justify-center
                      ring-2 ring-offset-2 ring-blue-400 shadow-md transition-all duration-300">
                        1
                    </div>
                </div>
                <span class="text-xs sm:text-sm md:text-base mt-2 text-blue-600 font-semibold">
          Select Type
        </span>
            </div>

            <!-- Step 2 -->
            <div class="flex flex-col items-center w-1/3 text-center">
                <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gray-300 text-gray-700 flex items-center justify-center shadow-sm">
                    2
                </div>
                <span class="text-xs sm:text-sm md:text-base mt-2 text-gray-600 font-medium">
          Place Obstacle
        </span>
            </div>

            <!-- Step 3 -->
            <div class="flex flex-col items-center w-1/3 text-center">
                <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gray-300 text-gray-700 flex items-center justify-center shadow-sm">
                    3
                </div>
                <span class="text-xs sm:text-sm md:text-base mt-2 text-gray-600 font-medium">
          Describe Obstacle
        </span>
            </div>
        </div>
    </div>
</div>

<form method="post" class="mt-4 space-y-4">
    @Html.AntiForgeryToken()
    <div class="grid grid-cols-2 gap-x-2 gap-y-2 w-full mx-auto">
        <!-- Air span -->
        <button type="button" id="AirSpan"
                class="but relative items-center rounded-lg text-2xl font-semibold text-black bg-blue-200 hover:bg-blue-400 
                   transition-colors duration-200 border-2 border-blue-900"
                style="height: 16dvh; width: 100%;">
            <img src="https://static.thenounproject.com/png/126856-200.png"
                 class="relative mx-auto w-20 h-20 mb-2" alt="poweline picture" />
            <div class="absolute bottom-5 inset-x-0 text-lg">
                Aerial Span
            </div>
        </button>

        <!-- Pole / tower -->
        <button type="button" id="Pole"
                class="but relative items-center rounded-lg text-2xl font-semibold text-black bg-blue-200 hover:bg-blue-400 
                   transition-colors duration-200 border-2 border-blue-900"
                style="height: 16dvh; width: 100%;">
            <img src="https://cdn-icons-png.flaticon.com/512/82/82556.png"
                 class="relative mx-auto w-14 h-14 mb-2" alt="picture pole" />
            <div class="absolute bottom-5 inset-x-0 text-lg">
                Pole/Tower
            </div>
        </button>

        <!-- Building -->
        <button type="button" id="Building"
                class="but relative items-center rounded-lg text-2xl font-semibold text-black bg-blue-200 hover:bg-blue-400 
                   transition-colors duration-200 border-2 border-blue-900"
                style="height: 16dvh; width: 100%;">
            <img src="https://www.iconpacks.net/icons/1/free-building-icon-1062-thumb.png"
                 class="relative mx-auto w-14 h-14 mb-2" alt="picture building" />
            <div class="absolute bottom-5 inset-x-0 text-lg">
                Building
            </div>
        </button>

        <!-- Construction -->
        <button type="button" id="Construction"
                class="but relative items-center rounded-lg text-2xl font-semibold text-black bg-blue-200 hover:bg-blue-400 
                   transition-colors duration-200 border-2 border-blue-900"
                style="height: 16dvh; width: 100%;">
            <img src="https://cdn-icons-png.flaticon.com/512/3752/3752632.png"
                 class="relative mx-auto w-14 h-14 mb-2" alt="picture construction" />
            <div class="absolute bottom-5 inset-x-0 text-lg">
                Construction
            </div>
        </button>

        <!-- Bridge -->
        <button type="button" id="Bridge"
                class="but relative items-center rounded-lg text-2xl font-semibold text-black bg-blue-200 hover:bg-blue-400 
                   transition-colors duration-200 border-2 border-blue-900"
                style="height: 16dvh; width: 100%;">
            <img src="https://www.svgrepo.com/show/490584/bridge.svg"
                 class="relative mx-auto w-20 h-20 mb-2" alt="picture bridge" />
            <div class="absolute bottom-5 inset-x-0 text-lg">
                Bridge
            </div>
        </button>

        <!-- Other -->
        <button type="button" id="Other"
                class="but relative items-center rounded-lg text-2xl font-semibold text-black bg-blue-200 hover:bg-blue-400 
                   transition-colors duration-200 border-2 border-blue-900"
                style="height: 16dvh; width: 100%;">
            <img src="https://cdn-icons-png.flaticon.com/512/5895/5895032.png"
                 class="relative mx-auto w-20 h-20 mb-2" alt="picture other" />
            <div class="absolute bottom-5 inset-x-0 text-lg">
                Other
            </div>
        </button>
    </div>

    <!-- Height input -->
    <div class="font-semibold mt-6">
        <label asp-for="HeightMeter" class="text-gray-700 text-base mb-3 block">Height in meter</label>
        <input asp-for="HeightMeter"
               class="rounded-2xl bg-white text-gray-900 text-center border-2 border-blue-400 focus:border-blue-600 
                  focus:ring-4 focus:ring-blue-100 w-full h-20 text-2xl font-semibold shadow-md hover:shadow-lg 
                  transition-all duration-300 placeholder-gray-400 tracking-wide"
               placeholder="Enter height (m)" />
        <span asp-validation-for="HeightMeter" class="text-red-500 text-sm mt-1 block"></span>
    </div>

    <!-- Action buttons -->
    <div class="flex justify-between mt-8 w-full">
        <!-- Save Draft -->
        <button type="submit"
                class="w-[48.5%] h-20 rounded-2xl bg-gradient-to-r from-blue-600 to-blue-500 
               text-white text-xl font-semibold tracking-wide shadow-md 
               hover:shadow-lg hover:brightness-110 active:scale-[0.98] 
               border border-blue-700 transition-all duration-200 flex items-center justify-center gap-3"
                formaction="/Obstacle/DataformStep1" id="savebutton">
            <!-- Bookmark/Save Icon -->
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                 stroke-width="2" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round"
                      d="M5 3a2 2 0 00-2 2v16l9-4 9 4V5a2 2 0 00-2-2H5z" />
            </svg>
            Save Draft
        </button>

        <!-- Next Page -->
        <button type="submit"
                class="w-[48.5%] h-20 rounded-2xl bg-gradient-to-r from-blue-100 to-blue-200 
               text-blue-700 text-xl font-semibold tracking-wide border border-blue-300
               hover:shadow-lg hover:scale-[1.02] active:scale-[0.98] 
               transition-all duration-200 flex items-center justify-center gap-3"
                formaction="/Obstacle/DataformStep1" id="nextpage">
            Next Page
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                 stroke-width="2" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
            </svg>
        </button>
    </div>
    
    <input type="hidden" asp-for="SaveDraft" id="save" />
    <input type="hidden" asp-for="Type" id="ObstacleType" />
    <div id="map" style="display: none"></div>
    <input type="hidden" asp-for="GeometryGeoJson" id="GeometryGeoJson" />
</form>

@section Scripts {
    <script src="~/js/ColorActiveButton.js"></script>
    <script src="~/js/MapScripts/GeojsonCoordinates.js"></script>
    <script>
        GetGeoJsonCoordinates();
        //saves the value of the button/type you choose
        AssignValueByID("AirSpan", "ObstacleType", @((int)ObstacleCompleteModel.ObstacleTypes.AirSpan));
        AssignValueByID('Pole', 'ObstacleType', @((int)ObstacleCompleteModel.ObstacleTypes.PoleOrTower));
        AssignValueByID('Building', 'ObstacleType', @((int)ObstacleCompleteModel.ObstacleTypes.Building));
        AssignValueByID('Construction', 'ObstacleType', @((int)ObstacleCompleteModel.ObstacleTypes.Construction));
        AssignValueByID('Bridge', 'ObstacleType', @((int)ObstacleCompleteModel.ObstacleTypes.Bridge));
        AssignValueByID('Other', 'ObstacleType', @((int)ObstacleCompleteModel.ObstacleTypes.Other));

        //save draft or next step
        AssignValueByID('savebutton', 'save', true)
        AssignValueByID('nextpage', 'save', false)

        ColorActiveButton('bg-blue-200', 'bg-blue-500')
    
    </script>
    <partial name="_ValidationScriptsPartial" />
}