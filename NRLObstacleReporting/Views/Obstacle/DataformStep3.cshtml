@model NRLObstacleReporting.Models.ObstacleStep3Model

<div class="relative w-full flex justify-center py-4">
    <div class="relative w-[80%] max-w-3xl flex flex-col items-center">
        <!-- Full blå progresjon til siste steg -->
        <div class="absolute top-1/2 w-[92%] h-[3px] bg-gradient-to-r from-blue-600 to-blue-600 -translate-y-1/2 z-0"></div>

        <div class="relative flex justify-between items-center w-full z-10">
            <!-- Step 1 -->
            <div class="flex flex-col items-center">
                <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-600 text-white flex items-center justify-center shadow">1</div>
                <span class="text-xs sm:text-sm mt-2 text-blue-600 font-medium">Step 1</span>
            </div>

            <!-- Step 2 -->
            <div class="flex flex-col items-center">
                <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-600 text-white flex items-center justify-center shadow">2</div>
                <span class="text-xs sm:text-sm mt-2 text-blue-600 font-medium">Step 2</span>
            </div>

            <!-- Step 3 (aktiv) -->
            <div class="flex flex-col items-center">
                <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-600 text-white flex items-center justify-center shadow">3</div>
                <span class="text-xs sm:text-sm mt-2 text-blue-600 font-medium">Step 3</span>
            </div>
        </div>
    </div>
</div>

<div class="flex flex-col justify-start items-center h-auto text-center pb-10">
    <form asp-action="DataformStep3" method="post"
          class="flex flex-col items-center w-full max-w-3xl min-h-[100vh]">
        
    <div class="flex flex-col items-center w-full">
            <h1 class="display-4 mb-4">Describe your obstacle</h1>

            <input asp-for="ObstacleId" type="hidden" value="@TempData.Peek("id")" />

            <!-- Name -->
            <div class="w-[92%] mb-3">
                <label class="text-lg font-medium">Obstacle Name</label>
                <input asp-for="ObstacleName"
                       class="rounded-lg bg-blue-200 text-black text-center border-2 border-blue-900 text-lg w-full h-12 mt-1" />
            </div>

            <!-- Description -->
            <div class="w-[92%] mb-6">
                <label class="text-lg font-medium">Obstacle Description</label>
                <textarea asp-for="ObstacleDescription"
                          class="rounded-lg bg-blue-200 text-black border-2 border-blue-900 text-lg w-full mt-1 p-2 text-left overflow-auto resize-none"
                          style="height: 28dvh;"></textarea>
            </div>

            <!-- Illumination -->
            <div class="w-[92%] mb-10">
                <label class="text-lg font-medium">Illumination</label>
                <div class="grid grid-cols-2 gap-1 w-full mt-2">
                    <button type="button" id="illuminated-yes"
                            class="rounded-l-lg py-3 font-semibold text-white bg-blue-500 hover:bg-blue-700 transition-colors duration-200">
                        Illuminated
                    </button>
                    <button type="button" id="illuminated-no"
                            class="rounded-r-lg py-3 font-semibold text-white bg-blue-500 hover:bg-blue-700 transition-colors duration-200">
                        Not Illuminated
                    </button>
                </div>
                <input type="hidden" asp-for="ObstacleIlluminated" id="ObstacleIlluminated" />
            </div>
        </div>

        <!-- KNAPPSEKSJON  -->
        <div class="mt-[5vh] w-full flex justify-center">
            <div class="grid grid-cols-2 gap-1 w-[92%]">
                <button type="submit"
                        class="Btn-PilotPrimary h-16 items-center justify-center w-full"
                        formaction="/Obstacle/DataformStep3" id="SaveDraft">
                    Save Draft
                </button>
                <button type="submit"
                        class="Btn-PilotPrimary h-16 items-center justify-center w-full"
                        formaction="/Obstacle/DataformStep3" id="Submit">
                    Submit Report
                </button>
            </div>
        </div>


    </form>
</div>


@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script src="~/js/ColorActiveButton.js"></script>
    <script>
        AssignValueByID('illuminated-yes', 'ObstacleIlluminated', true)
        AssignValueByID('illuminated-no', 'ObstacleIlluminated', false)
        AssignValueByID('SaveDraft', 'IsDraft', true)
        AssignValueByID('Submit', 'IsDraft', false)
        ColorActiveButton('bg-blue-200', 'bg-blue-500')
    </script>
}
